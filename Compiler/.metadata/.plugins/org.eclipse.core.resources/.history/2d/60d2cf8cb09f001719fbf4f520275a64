grammar com.poli.compilador.C with org.eclipse.xtext.common.Terminals

generate c "http://www.poli.com/compilador/C"

//--------------------------------------------------------------------

Program: (commands+=Command ';')* ;

Command		: Expression ;
			
Expression	: rValue ;

rValue	: LogicExp ;
		
LogicExp		: args+=RelExp (LO args+=RelExp)*;
RelExp		: args+=ArithExp (RO args+=ArithExp)* ;
ArithExp		: args+=Term (AO1 args+=Term)* ;
Term			: args+=Factor (AO2 args+=Factor)* ;

Factor		: {UnaryExp} UO arg+=Atom
	        | Atom
	        ;
	        
Atom			: Literal
			| '(' Expression ')' 
			| lValue ;
lValue      : {IDVal} ID  | PointerExp ;			

PointerExp	: '**' val=Atom ;
//AccessExp	: rValue ('[' rValue ']' | '.' ID) ;

Literal		: {IntLit} val=INT | {TrueLit} TRUE | {FalseLit} FALSE ;

//--------------------------------------------------------------------

terminal LET		: ('a'..'z'|'A'..'Z');
//terminal NUM		: ('0'..'9')+ ('.' ('0'..'9')+)? ;
terminal TRUE   : 'true';
terminal FALSE  : 'false';
//@Override 
//terminal ID	: ('a'..'z'|'A'..'Z') ('a'..'z'|'A'..'Z'|'0'..'9')*;
terminal AO1		: '+' | '-' ;
terminal AO2		: '*' | '/' ;
terminal RO		: '>' | '>=' | '<' | '<=' | '==' | '!=' ;
terminal LO		: '&&' | '||';
terminal UO		: '~' | '++' | '--' | '&' ;
